<?php

namespace Database\Seeders;

use App\Models\Saving\Saving;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;

class SavingsTableSeeder extends Seeder
{
    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run()
    {
        DB::table('savings')->delete();
        $savings = DB::select('SELECT id, empid, participationType, datePremium, newpremium, contribute, signature, agree, created_at, updated_at FROM oldportal.savings');

        foreach ($savings as $saving) {
            $userid = DB::select('SELECT id from users where empno = ?',[$saving->empid]);

            DB::insert('INSERT INTO savings(id, empno, participationType, datePremium, premium, contribute, signature, agree, userEntry, status, created_at,updated_at)
                values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,?)',[
                $saving->id, $saving->empid, $saving->participationType, $saving->datePremium, $saving->newpremium, $saving->contribute, $saving->signature, $saving->agree,$userid[0]->id,1,
                $saving->created_at, $saving->updated_at]);


            DB::insert('INSERT INTO savingstrans(savingid, empno, premium, contribute, typetran, userEntry, created_at, updated_at)
                values (?, ?, ?, ?, ?, ?, ?, ?)',[
                $saving->id, $saving->empid, $saving->newpremium, $saving->contribute,'إشتراك',$userid[0]->id,$saving->created_at, $saving->updated_at]);

            $signature = DB::select('SELECT signature from savings where empno = ?',[$saving->empid]);
            if ($signature) {
                DB::update('update users  set signature = ? where id = ? and empno = ?',[$signature[0]->signature,$userid[0]->id, $saving->empid]);
            }


        }


        /* DB::insert("INSERT INTO savings (empno, participationType, datePremium, premium, contribute, signature, agree, userEntry, status,created_at, updated_at)
        VALUES
        (11001,'1','2020-10-26','5000.00','0.00','1603700233-B508F941-F226-4876-A85F-D02533EBFEC8.jpeg',1,1,1,'2020-10-26 05:15:28','2020-10-26 05:17:13'),
        (11489,'1','2020-10-26','500.00','15000.00','defualt.png',1,1,1,'2020-10-26 05:27:09','2020-12-10 03:57:24'),
        (11035,'1','2020-10-26','500.00',NULL,'1603700937-IMG_20201026_112643__01.jpg',1,1,1,'2020-10-26 05:28:58','2022-01-10 03:25:40'),
        (11254,'1','2020-10-26','1000.00','15000.00','1627853053-CB503627-E7C2-4180-A19D-9687D47C9CC9.jpeg',1,1,1,'2020-10-26 05:31:03','2022-06-27 18:36:04'),
        (11870,'1','2020-10-26','500.00','50000.00','1603703173-IMG_20201026_114400.jpg',1,1,1,'2020-10-26 06:06:13','2023-01-09 06:06:12'),
        (11175,'1','2020-10-26','400.00',NULL,'1624964987-توقيع رائد.jpg',1,1,1,'2020-10-26 06:15:04','2023-01-08 09:33:22'),
        (11383,'1','2020-10-26','900.00','10000.00','1611741592-تركين.png',1,1,1,'2020-10-26 06:31:16','2021-07-12 04:39:40'),
        (11219,'1','2020-10-26','2000.00',NULL,'1603704844-dsvv.JPG',1,1,1,'2020-10-26 06:34:04','2022-08-24 09:38:28'),
        (11723,'1','2020-10-26','500.00',NULL,'1603705678-B4C36FEB-771D-4693-B19C-F6122721E96A.jpeg',1,1,1,'2020-10-26 06:47:58','2023-01-09 07:04:18'),
        (11547,'1','2020-10-26','1000.00','50000.00','1603694554.png',1,1,1,'2020-10-26 06:50:10','2023-01-16 03:11:20'),
        (11338,'1','2020-10-26','1125.00',NULL,'1603706658-توقيع إبراهيم اليافعي.png',1,1,1,'2020-10-26 07:04:18','2023-01-15 12:05:45'),
        (11373,'1','2020-10-26','3000.00','10000.00','1603707244-توقيعي.jpg',1,1,1,'2020-10-26 07:14:04','2020-12-06 07:48:39'),
        (11029,'1','2020-10-26','1000.00',NULL,'1618131140-sign.png',1,1,1,'2020-10-26 07:25:22','2022-02-08 06:22:17'),
        (11695,'1','2020-10-26','4000.00',NULL,'1628070361-16280700829057891065846639754921.jpg',1,1,1,'2020-10-26 07:27:23','2023-01-22 05:42:45'),
        (11386,'1','2020-10-26','600.00',NULL,'1611740851-image.jpg',1,1,1,'2020-10-26 07:27:24','2021-06-30 08:55:47'),
        (11099,'1','2020-10-26','1000.00',NULL,'1612701409-توقيع بالرسام.png',1,1,1,'2020-10-26 07:44:10','2023-01-12 02:35:27'),
        (11932,'1','2020-10-26','2000.00',NULL,'1614235162-توقيع عبدالاله.png',1,1,1,'2020-10-26 07:49:23','2021-02-25 03:39:22'),
        (11748,'1','2020-10-26','2000.00',NULL,'defualt.png',1,1,1,'2020-10-26 07:55:43','2023-01-15 06:41:54'),
        (11758,'1','2020-10-26','500.00',NULL,'1614862835-توقيع حق انا.jpeg',1,1,1,'2020-10-26 08:32:22','2023-01-11 08:11:41'),
        (11166,'1','2020-10-26','2000.00','100000.00','1603715041-التوقيع.png',1,1,1,'2020-10-26 09:13:30','2022-08-22 08:52:27'),
        (11063,'1','2020-10-26','1500.00',NULL,'1603783741-توقيع.jpg',1,1,1,'2020-10-26 09:44:26','2022-12-29 02:19:30'),
        (11513,'1','2020-10-27','2000.00','0.00','defualt.png',1,1,1,'2020-10-27 02:37:29','2020-11-07 08:42:11'),
        (11321,'1','2020-10-27','500.00','0.00','1624798965-اقامة.jpeg',1,1,1,'2020-10-27 03:09:21','2021-06-27 10:04:02'),
        (11964,'1','2020-10-27','500.00',NULL,'1625641278-WhatsApp Image 2021-07-06 at 10.59.05 AM.jpeg',1,1,1,'2020-10-27 03:36:19','2021-07-14 05:32:08'),
        (11125,'1','2020-10-27','3000.00','50000.00','1603784633-توقيع.jpeg',1,1,1,'2020-10-27 04:43:53','2022-03-14 06:12:32'),
        (11689,'1','2020-10-27','3738.00',NULL,'1603838799-signature_1.jpg',1,1,1,'2020-10-27 19:46:40','2023-01-26 05:40:30'),
        (11045,'1','2020-10-28','1950.00',NULL,'1603863244-توقيع.PNG',1,1,1,'2020-10-28 02:34:05','2023-01-15 08:10:36'),
        (20042,'1','2020-10-28','1000.00','30000.00','1603869896-توقيع باعلوي copy.png',1,1,1,'2020-10-28 04:24:56','2022-07-06 08:56:34'),
        (11693,'1','2020-10-28','600.00','0.00','1603869927-WhatsApp Image 2020-09-06 at 9.20.03 AM.jpeg',1,1,1,'2020-10-28 04:25:27','2023-01-09 08:43:14'),
        (11942,'1','2020-10-28','500.00',NULL,'1603870561-توقيع.jpg',1,1,1,'2020-10-28 04:36:02','2021-07-07 05:18:03'),
        (11077,'1','2020-10-28','2000.00','0.00','defualt.png',1,1,1,'2020-10-28 04:48:25','2020-10-28 04:48:25'),
        (11320,'1','2020-10-28','2100.00',NULL,'defualt.png',1,1,1,'2020-10-28 05:01:07','2023-01-10 01:53:35'),
        (11455,'1','2020-10-28','1000.00',NULL,'defualt.png',1,1,1,'2020-10-28 05:15:30','2021-07-04 07:02:26'),
        (11333,'1','2020-10-28','2000.00','100000.00','defualt.png',1,1,1,'2020-10-28 06:49:04','2021-07-08 05:01:42'),
        (11766,'1','2020-10-28','213.00',NULL,'1611736494-WhatsApp Image 2021-01-27 at 11.33.00 AM.jpeg',1,1,1,'2020-10-28 07:42:19','2022-10-09 05:07:24'),
        (11151,'1','2020-10-28','505.00','0.00','1628588748-BEA60F4A-8B28-4C62-979F-12E56EA2BECF.jpeg',1,1,1,'2020-10-28 08:28:25','2021-08-10 06:51:33'),
        (11915,'1','2020-10-28','300.00','0.00','1616397459-توقيع أكورا.PNG',1,1,1,'2020-10-28 08:29:20','2021-03-22 04:17:40'),
        (11039,'1','2020-10-28','500.00','0.00','defualt.png',1,1,1,'2020-10-28 08:31:42','2020-10-28 08:31:42'),
        (11277,'1','2020-10-28','1000.00',NULL,'1621849815-الشريف.jpg',1,1,1,'2020-10-28 08:33:11','2021-07-13 08:01:28'),
        (11956,'1','2020-10-28','1000.00','0.00','1629114347-20210816_143741.jpg',1,1,1,'2020-10-28 08:40:26','2021-08-16 08:45:48'),
        (11221,'1','2020-10-28','4000.00','0.00','1603885230-نموذج توقيع المدير التنفيذي (1).PNG شفاف.PNG',1,1,1,'2020-10-28 08:40:30','2020-10-28 08:40:30'),
        (11022,'1','2020-10-29','500.00',NULL,'1647155626-توقيع ايوب موسى -خاص.jpg',1,1,1,'2020-10-29 02:50:40','2022-03-13 06:48:11'),
        (11754,'1','2020-10-29','200.00',NULL,'1611737031-Downloads.png',1,1,1,'2020-10-29 02:56:33','2023-01-11 04:18:51'),
        (11402,'1','2020-10-29','700.00',NULL,'1611470405-التوقيع صورة.png',1,1,1,'2020-10-29 06:39:45','2023-01-17 04:54:03'),
        (11829,'1','2020-10-29','500.00',NULL,'1603694554.png',1,1,1,'2020-10-29 06:50:15','2023-01-09 06:04:17'),
        (11150,'1','2020-10-29','150.00','0.00','defualt.png',1,1,1,'2020-10-29 08:53:43','2020-10-29 08:53:43'),
        (11193,'1','2020-10-29','350.00','0.00','1603973851-التوقيع.jpg',1,1,1,'2020-10-29 09:17:32','2020-10-29 09:17:32'),
        (11182,'1','2020-10-29','200.00','0.00','1625746448-توقيع ..... محمد علي.jpg',1,1,1,'2020-10-29 09:17:38','2021-07-08 09:17:43'),
        (11923,'1','2020-10-29','1000.00',NULL,'1607262509-توقيعي.png',1,1,1,'2020-10-29 09:50:44','2020-12-06 10:48:29'),
        (11181,'1','2020-10-29','1250.00',NULL,'1612339053-WhatsApp Image 2021-02-03 at 10.55.27 AM.jpeg',1,1,1,'2020-10-29 10:14:24','2023-01-10 01:32:30'),
        (20050,'1','2020-11-03','2000.00','0.00','1615204745-توقيع سالم سعيد.jpg',1,1,1,'2020-11-03 00:30:04','2021-03-16 04:50:41'),
        (11916,'1','2020-11-03','1000.00','0.00','1604382042-توقيع الحسيني.png',1,1,1,'2020-11-03 02:40:42','2022-07-28 04:08:26'),
        (11922,'1','2020-11-03','1960.00','0.00','defualt.png',1,1,1,'2020-11-03 03:07:23','2020-12-06 07:05:37'),
        (11857,'1','2020-11-04','2000.00',NULL,'1604468046-1604468725417-966645446.jpg',1,1,1,'2020-11-04 02:34:07','2021-07-08 04:21:59'),
        (11951,'1','2020-11-04','2000.00','0.00','1629698245-963566.jpg',1,1,1,'2020-11-04 05:16:25','2022-10-06 03:56:03'),
        (11948,'1','2020-11-05','2000.00',NULL,'1639556677-E614BF40-0770-45E4-B60C-633495CC3DB0.png',1,1,1,'2020-11-05 03:07:09','2023-01-15 07:40:43'),
        (11718,'1','2020-11-08','3800.00',NULL,'defualt.png',1,1,1,'2020-11-08 03:49:47','2023-01-17 07:27:34'),
        (11816,'1','2020-11-11','680.00','0.00','defualt.png',1,1,1,'2020-11-11 07:13:07','2020-11-11 07:16:32'),
        (11409,'1','2020-11-15','400.00','0.00','1615703257-مطر.jpg',1,1,1,'2020-11-15 05:48:54','2021-03-14 03:27:37'),
        (11002,'1','2020-11-22','5000.00','100000.00','1606032511-توقيع د.png',1,1,1,'2020-11-22 05:08:31','2022-08-17 08:31:44'),
        (11768,'1','2020-11-22','500.00','0.00','defualt.png',1,1,1,'2020-11-22 05:09:19','2020-11-22 05:09:19'),
        (11935,'1','2020-11-22','1000.00','0.00','1617695404-WhatsApp Image 2021-04-06 at 9.25.15 AM.jpeg',1,1,1,'2020-11-22 05:10:00','2021-04-06 04:50:04'),
        (11124,'1','2020-12-07','500.00',NULL,'1615203433-إقامة عبدالمتين.jpg',1,1,1,'2020-12-07 08:43:57','2023-01-15 08:29:04'),
        (11097,'1','2020-12-08','400.00',NULL,'1612243918-c29c7632-013e-4c33-85b5-85aa5e1dabfd.jpeg',1,1,1,'2020-12-08 02:57:01','2022-10-27 05:20:38'),
        (11430,'1','2021-06-28','1000.00',NULL,'1624875233-صورة الاقامه مع التوقيع.jpg',1,1,1,'2021-06-28 07:13:53','2021-07-06 04:01:15'),
        (11105,'1','2021-07-07','1000.00',NULL,'defualt.png',1,1,1,'2021-07-07 15:50:21','2021-07-07 15:50:21'),
        (11976,'1','2021-07-10','500.00',NULL,'1630927516-LG9A2003.JPG',1,1,1,'2021-07-10 16:31:27','2022-09-29 02:35:39'),
        (11076,'1','2021-07-12','500.00',NULL,'1626091711-توقيعي1.jpg',1,1,1,'2021-07-12 09:08:31','2022-09-20 03:07:21'),
        (11090,'1','2022-01-10','500.00',NULL,'1641799443-28E0826B-4C50-4F05-A2C7-7C527787ABCB.jpeg',1,1,1,'2022-01-10 04:24:03','2022-01-24 06:43:56'),
        (11982,'1','2022-01-12','2000.00',NULL,'1641980164-توقيع 1.png',1,1,1,'2022-01-12 06:34:30','2022-01-17 02:03:22'),
        (11883,'1','2022-07-02','200.00',NULL,'1656751787-توقيع نصر عامر_-1.jpg',1,1,1,'2022-07-02 05:49:48','2022-08-01 07:49:48'),
        (11999,'1','2022-07-06','1000.00',NULL,'defualt.png',1,1,1,'2022-07-06 06:43:46','2022-07-06 06:43:46'),
        (12019,'1','2023-01-12','600.00',NULL,'1673524469-توقيع.jpg',1,1,1,'2023-01-12 08:54:29','2023-01-12 08:57:27')"); */



    }
}
